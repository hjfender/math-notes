\subsection{Free Modules}\label{freemodules}
A free $R$-module on the set $A$, $F^R(A)$, an $R$-module together with a set
function $j : A \rightarrow F^R(A)$ making the following diagram commute.
\begin{figure}[H]
\centering
\input{topics/modules/diagrams/freemodule}
\end{figure}

\begin{proposition}
$F^R(I) \cong R^{\oplus I}$.
\end{proposition}

\subsubsection{Linearly Independent}\label{linearlyindependent}
We say that the indexed set $i : I \rightarrow M$ is \emph{linearly independent} if $\varphi$ in
the above diagram is injective.

\subsubsection{Generating Set}\label{generatingset}
We say that the indexed set $i : I \rightarrow M$ \emph{generates} $M$ if $\varphi$ is surjective.\newline

\noindent The following lemma is equivalent to the axiom of choice and so the use of \hyperref[zornslemma]{Zorn's lemma}
cannot be avoided entirely.

\begin{lemma}
\label{maximallinearlyindependentset}
Let $M$ be an $R$-module, and let $S \subseteq M$ be a linearly independent subset. Then there exists a
maximal linearly independent subset of $M$ containing $S$.
\end{lemma}

\subsubsection{Basis}\label{basis}
An indexed set $B \rightarrow M$ is a \emph{basis} if it generates $M$ and is linearly independent.

\begin{lemma}
\label{basisisfree}
An $R$-module $M$ is free if and only if it admits a basis. In fact, $B \subseteq M$ is a basis
if and only if the natural homomorphism $R^{\oplus B} \rightarrow M$ is an isomorphism.
\end{lemma}

\begin{proposition}
Let $R$ be an integral domain, and let $M$ be a free $R$-module. Let $B$ be a maximal linearly independent subset of $M$,
and let $S$ be a linearly independent subset. Then $|S| \leq |B|$.

In particular, any two maximal linearly independent subsets of a free module over an integral domain have the same cardinality.
\end{proposition}

\begin{proof}
By taking fields of fractions, the general case over an integral domain is easily reduced to the case of vector spaces over
a field. We may then assume that $R = k$ is a field and $M = V$ is a $k$-vector space.

We have to prove that there is an injective map $j : S \hookrightarrow B$, and this can be done by an inductive process, replacing
elements of $B$ by elements of $S$ 'one-by-one.' For this, let $\leq$ be a well-ordering on $S$, let $v \in S$, and assume we have
defined $j$ for all $w \in S$ with $w < v$. Let $B'$ be the set obtained from $B$ by replacing all $j(w)$ by $w$, for $w < v$, and
assume (inductively) that $B'$ is still a maximal linearly independent subset of $V$. Then I claim that $j(v) \in B$ may be defined
so that\dots
\begin{itemize}
  \item $j(v) \neq j(w)$ for all $w < v$;
  \item the set $B"$ obtained from $B'$ by replacing $j(v)$ by $v$ is still a maximal linearly independent subset.
\end{itemize}
Transfinite induction then shows that $j$ is defined and injective on $S$, as needed.

To verify my claim, since $B'$ is a maximal linearly independent set, $B' \cup \{ v \}$ is linearly dependent (as an indexed set), so
that there exists a linear dependence relation\dots
$$c_0v+c_1b_1 + \cdots + c_tb_t = 0$$
with not all $c_t$ equal to zero and the $b_t$ distinct in $B'$. Necessarily $c_0 \neq 0$ (because $B'$ is linearly independent); also,
necessarily not all the $b_i$ with $c_i \neq 0$ are elements of $S$ (because $S$ is linearly independent). Without loss of generality we
may then assume that $c_1 \neq 0$ and $b_1 \in B' \setminus S$. This guarantees that $b_1 \neq j(w)$ for all $w < v$; I set $j(v) = b_1$.

All that is left now is the verification that the set $B''$ obtained by replacing $b_1$ by $v$ in $B'$ is a maximal linearly independent subset.
But by using to write
$$v =-c_0^{-1}c_1b_1 - \cdots - c_0^{-1}c_tb_t,$$
this is an easy consequence of the fact that $B'$ is a maximal linearly independent subset.
\end{proof}

\begin{corollary}
Let $R$ be an integral domain, and let $A$, $B$ be sets. Then\dots
$$F^R(A) \cong F^R(B) \Leftrightarrow \textrm{ there is a bijection } A \cong B.$$
\end{corollary}

\subsubsection{Rank}\label{rank}
Let $R$ be an integral domain. The \emph{rank} of a free $R$-module $M$, denoted rk$_R M$, is the cardinality of a maximal linearly independent
subset of $M$.

\begin{proposition}
Let $R$ be an integral domain, and let $M$ be a free $R$-module; assume that $M$ is generated by $S: M = \langle S \rangle$. Then
$S$ contains a maximal linearly independent subset of $M$.
\end{proposition}